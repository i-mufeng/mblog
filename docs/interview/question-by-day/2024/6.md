---
readingTime: false
hidden: true
outline: 3
---

# 每日一题 - 202406

## 6-2

### http 常见的状态码

> - `1XX `表示消息
> - `2XX `表示成功
> - `3XX` 表示重定向
> - `4XX` 表示客户端错误
> - `5XX` 表示服务端错误

`200`：最喜欢见到的状态码，表示请求成功

`301`：永久重定向

`302`：临时重定向

`304`：自上次请求，未修改的文件

> **http 状态码中 301，302和307有什么区别**
>
> - 301，Moved Permanently。永久重定向，该操作比较危险，需要谨慎操作：如果设置了301，但是一段时间后又想取消，但是浏览器中已经有了缓存，还是会重定向。
> - 302，Found。临时重定向，但是会在重定向的时候改变 method: 把 POST 改成 GET，于是有了 307
> - 307，Temporary Redirect。临时重定向，在重定向时不会改变 method

`400`：错误的请求

`401`：未被授权，需要身份验证，例如token信息等等

`403`：请求被拒绝

`404`：资源缺失，接口不存在或请求的文件不存在等等

`405`：请求方法不对，需要POST这条资源而你却使用了GET

`500`：服务器端的未知错误

`502`：网关错误

`503`：服务暂时无法使用

`504`：网关超时，上游应用层迟迟未响应


## 6-1

### 浏览器中如何实现剪切板复制内容的功能？

#### 方法1：第三方库 [clipboard-copy(opens in a new tab)](https://github.com/feross/clipboard-copy/blob/master/index.js)

使用 `Clipboard API` 进行实现是目前最为推荐的方式

```javascript
navigator.clipboard.writeText(text);
```

> 而对于一些不支持 `Clipboard API` 的浏览器，使用以下 API 进行复制

#### 方法2：选中: Selection API/Range API

> [Selection API](https://developer.mozilla.org/en-US/docs/Web/API/Selection)
>
> `Selection` 对象表示用户选择的文本范围或插入符号的当前位置。它代表页面中的文本选区，可能横跨多个元素。文本选区由用户拖拽鼠标经过文字而产生。要获取用于检查或修改的 Selection 对象，请调用 `window.getSelection()`。
>
> `Selection` 对象所对应的是用户所选择的 `ranges`（区域），俗称拖蓝。默认情况下，该函数只针对一个区域。
>
> **方法**：
>
> `getRangeAt`：返回选区包含的指定区域（`Range`）的**引用**。
>
> `collapse`：将当前的选区折叠为一个点。
>
> `extend`：将选区的焦点移动到一个特定的位置。
>
> `modify`：修改当前的选区。
>
> `collapseToStart`：将当前的选区折叠到起始点。
>
> `collapseToEnd`：将当前的选区折叠到最末尾的一个点。
>
> `selectAllChildren`：将某一指定节点的子节点框入选区。
>
> `addRange`：一个区域（[`Range`](https://developer.mozilla.org/zh-CN/docs/Web/API/Range)）对象将被加入选区。
>
> `removeRange`：从选区中移除一个区域。
>
> `removeAllRanges`：将所有的区域都从选区中移除。
>
> `deleteFromDocument`：从页面中删除选区中的内容。
>
> `selectionLanguageChange`
>
> 当键盘的朝向发生改变后修改指针的 Bidi 优先级。
>
> `toString`：返回当前选区的纯文本内容。
>
> `containsNode`：判断某一个 `Node` 是否为当前选区的一部分。

**选中**：

```javascript
const selection = window.getSelection();
const range = document.createRange();
 
// RangeAPI: 制造区域
range.selectNodeContents(element);
 
// Selection: 选中区域
selection.addRange(range);
 
selectedText = selection.toString();
```

**取消选中**：

```javascript
window.getSelection().removeAllRanges();
```

#### 方法3：复制execCommand

```js
document.execCommand("copy");
```
